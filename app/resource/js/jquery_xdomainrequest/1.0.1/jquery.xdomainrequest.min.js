(function(e,c){var f="undefined"!==typeof module&&module.exports;"function"===typeof define&&define.amd?define(["jquery"],c):f?module.exports=c:(this.jQuery||this.ender||this.$||this)[e]=c()})("xdomainrequest",function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var c=/^https?:\/\//i,f=/^get|post$/i,m=RegExp("^"+location.protocol,"i"),n=/text\/html/i,p=/\/json/i,q=/\/xml/i;e.ajaxTransport("text html xml json",function(d,b,s){if(d.crossDomain&&d.async&&f.test(d.type)&&c.test(d.url)&&m.test(d.url)){var a=null,h=(b.dataType||"").toLowerCase();return{send:function(c,f){a=new XDomainRequest;/^\d+$/.test(b.timeout)&&(a.timeout=b.timeout);a.ontimeout=function(){f(500,"timeout")};a.onload=function(){var d="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,b=200,c="success",k={text:a.responseText};try{if("html"===h||n.test(a.contentType))k.html=a.responseText;else if("json"===h||"text"!==h&&p.test(a.contentType))try{k.json=e.parseJSON(a.responseText)}catch(l){b=500,c="parseerror"}else if("xml"===h||"text"!==h&&q.test(a.contentType)){var g=new ActiveXObject("Microsoft.XMLDOM");g.async=!1;try{g.loadXML(a.responseText)}catch(m){g=void 0}if(!g||!g.documentElement||g.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a.responseText;k.xml=g}}catch(r){throw r;}finally{f(b,c,k,d)}};a.onprogress=function(){};a.onerror=function(){f(500,"error",{text:a.responseText})};var l="";b.data&&(l="string"===e.type(b.data)?b.data:e.param(b.data));a.open(d.type,d.url);a.send(l)},abort:function(){a&&a.abort()}}}})}});